{
  "id": "vprogulke_template",
  "name": "üåü VProgulke Bot Template",
  "description": "–®–∞–±–ª–æ–Ω –±–æ—Ç–∞ –∑–Ω–∞–∫–æ–º—Å—Ç–≤ –¥–ª—è –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∞–Ω–∫–µ—Ç–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–∏—Å—Ç–µ–º–æ–π –º–µ—Ç—Ä–æ –∏ –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–º–∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞–º–∏",
  "difficulty": "advanced",
  "author": "AI Assistant",
  "category": "dating",
  "tags": ["–∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞", "–ø—Ä–æ—Ñ–∏–ª—å", "–º–µ—Ç—Ä–æ", "–∏–Ω—Ç–µ—Ä–µ—Å—ã", "–°–ü–±"],
  "metadata": {
    "estimatedTime": "30-45 –º–∏–Ω—É—Ç",
    "requiredFeatures": ["inline_keyboards", "reply_keyboards", "user_data", "state_management"],
    "complexity": "high"
  },
  "flow": {
    "nodes": [
      {
        "id": "start",
        "type": "start",
        "data": {
          "label": "–ù–∞—á–∞–ª–æ",
          "responses": [
            "üåü –ü—Ä–∏–≤–µ—Ç –æ—Ç ·¥†·¥®·¥©·¥è·¥¶ è·¥ß·¥ã·¥á Bot!",
            "–≠—Ç–æ—Ç –±–æ—Ç –ø–æ–º–æ–∂–µ—Ç —Ç–µ–±–µ –Ω–∞–π—Ç–∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –ª—é–¥–µ–π –≤ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ!",
            "",
            "–û—Ç–∫—É–¥–∞ —Ç—ã —É–∑–Ω–∞–ª –æ –Ω–∞—à–µ–º —á–∞—Ç–µ? üòé"
          ]
        },
        "position": { "x": 100, "y": 100 }
      },
      {
        "id": "source_input",
        "type": "input",
        "data": {
          "label": "–ò—Å—Ç–æ—á–Ω–∏–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏",
          "inputType": "text",
          "question": "–û—Ç–∫—É–¥–∞ —Ç—ã —É–∑–Ω–∞–ª –æ –Ω–∞—à–µ–º —á–∞—Ç–µ?",
          "placeholder": "–ù–∞–ø–∏—à–∏, –æ—Ç–∫—É–¥–∞ —É–∑–Ω–∞–ª...",
          "required": true,
          "variable": "user_source",
          "maxLength": 200
        },
        "position": { "x": 100, "y": 250 }
      },
      {
        "id": "join_request",
        "type": "keyboard",
        "data": {
          "label": "–ó–∞–ø—Ä–æ—Å –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è",
          "text": "–•–æ—á–µ—à—å –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –Ω–∞—à–µ–º—É —á–∞—Ç—É? üöÄ",
          "keyboardType": "reply",
          "buttons": [
            [
              { "text": "–î–∞ üòé", "value": "yes" },
              { "text": "–ù–µ—Ç üôÖ", "value": "no" }
            ]
          ],
          "oneTimeKeyboard": true,
          "resizeKeyboard": true,
          "variable": "wants_to_join"
        },
        "position": { "x": 100, "y": 400 }
      },
      {
        "id": "decline_response",
        "type": "message",
        "data": {
          "label": "–û—Ç–∫–∞–∑ –æ—Ç —É—á–∞—Å—Ç–∏—è",
          "text": "–ü–æ–Ω—è—Ç–Ω–æ! –ï—Å–ª–∏ –ø–µ—Ä–µ–¥—É–º–∞–µ—à—å, –Ω–∞–ø–∏—à–∏ /start! üòä",
          "removeKeyboard": true
        },
        "position": { "x": 400, "y": 400 }
      },
      {
        "id": "gender_selection",
        "type": "keyboard",
        "data": {
          "label": "–í—ã–±–æ—Ä –ø–æ–ª–∞",
          "text": "–£–∫–∞–∂–∏ —Å–≤–æ–π –ø–æ–ª: üë®üë©",
          "keyboardType": "reply",
          "buttons": [
            [
              { "text": "–ú—É–∂—á–∏–Ω–∞ üë®", "value": "male" },
              { "text": "–ñ–µ–Ω—â–∏–Ω–∞ üë©", "value": "female" }
            ]
          ],
          "oneTimeKeyboard": true,
          "resizeKeyboard": true,
          "variable": "gender"
        },
        "position": { "x": 100, "y": 550 }
      },
      {
        "id": "name_input",
        "type": "input",
        "data": {
          "label": "–í–≤–æ–¥ –∏–º–µ–Ω–∏",
          "inputType": "text",
          "question": "–ö–∞–∫ —Ç–µ–±—è –∑–æ–≤—É—Ç? ‚úèÔ∏è",
          "placeholder": "–í–≤–µ–¥–∏ —Å–≤–æ—ë –∏–º—è...",
          "required": true,
          "variable": "user_name",
          "minLength": 2,
          "maxLength": 50
        },
        "position": { "x": 100, "y": 700 }
      },
      {
        "id": "age_input",
        "type": "input",
        "data": {
          "label": "–í–≤–æ–¥ –≤–æ–∑—Ä–∞—Å—Ç–∞",
          "inputType": "number",
          "question": "–°–∫–æ–ª—å–∫–æ —Ç–µ–±–µ –ª–µ—Ç? (–í–≤–µ–¥–∏ —á–∏—Å–ª–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, 25) üéÇ",
          "placeholder": "–ù–∞–ø—Ä–∏–º–µ—Ä: 25",
          "required": true,
          "variable": "user_age",
          "min": 14,
          "max": 99
        },
        "position": { "x": 100, "y": 850 }
      },
      {
        "id": "metro_selection",
        "type": "keyboard",
        "data": {
          "label": "–í—ã–±–æ—Ä –º–µ—Ç—Ä–æ",
          "text": "–ù–∞ –∫–∞–∫–æ–π —Å—Ç–∞–Ω—Ü–∏–∏ –º–µ—Ç—Ä–æ —Ç—ã –æ–±—ã—á–Ω–æ –±—ã–≤–∞–µ—à—å? üöá",
          "keyboardType": "reply",
          "buttons": [
            [
              { "text": "–ö—Ä–∞—Å–Ω–∞—è –≤–µ—Ç–∫–∞ üü•", "value": "red_line" },
              { "text": "–°–∏–Ω—è—è –≤–µ—Ç–∫–∞ üü¶", "value": "blue_line" }
            ],
            [
              { "text": "–ó–µ–ª—ë–Ω–∞—è –≤–µ—Ç–∫–∞ üü©", "value": "green_line" },
              { "text": "–û—Ä–∞–Ω–∂–µ–≤–∞—è –≤–µ—Ç–∫–∞ üüß", "value": "orange_line" }
            ],
            [
              { "text": "–§–∏–æ–ª–µ—Ç–æ–≤–∞—è –≤–µ—Ç–∫–∞ üü™", "value": "purple_line" },
              { "text": "–Ø –∏–∑ –õ–û üè°", "value": "lo_cities" }
            ],
            [
              { "text": "–Ø –Ω–µ –≤ –ü–∏—Ç–µ—Ä–µ üåç", "value": "not_in_spb" }
            ],
            [
              { "text": "–ì–æ—Ç–æ–≤–æ ‚úÖ", "value": "metro_done" }
            ]
          ],
          "oneTimeKeyboard": true,
          "resizeKeyboard": true,
          "allowMultipleSelection": true,
          "variable": "metro_lines"
        },
        "position": { "x": 100, "y": 1000 }
      },
      {
        "id": "red_line_stations",
        "type": "keyboard",
        "data": {
          "label": "–ö—Ä–∞—Å–Ω–∞—è –≤–µ—Ç–∫–∞",
          "text": "–í—ã–±–µ—Ä–∏ —Å—Ç–∞–Ω—Ü–∏–∏ –∫—Ä–∞—Å–Ω–æ–π –≤–µ—Ç–∫–∏ üü•:",
          "keyboardType": "reply",
          "buttons": [
            [
              { "text": "üü• –î–µ–≤—è—Ç–∫–∏–Ω–æ", "value": "devyatkino" },
              { "text": "üü• –ì—Ä–∞–∂–¥–∞–Ω—Å–∫–∏–π –ø—Ä.", "value": "grazhdansky" },
              { "text": "üü• –ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∞—è", "value": "akademicheskaya" }
            ],
            [
              { "text": "üü• –ü–æ–ª–∏—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è", "value": "politehnicheskaya" },
              { "text": "üü• –ü–ª–æ—â–∞–¥—å –ú—É–∂–µ—Å—Ç–≤–∞", "value": "ploshad_muzhestva" },
              { "text": "üü• –õ–µ—Å–Ω–∞—è", "value": "lesnaya" }
            ],
            [
              { "text": "üü• –í—ã–±–æ—Ä–≥—Å–∫–∞—è", "value": "vyborgskaya" },
              { "text": "üü• –ü–ª–æ—â–∞–¥—å –õ–µ–Ω–∏–Ω–∞", "value": "ploshad_lenina" },
              { "text": "üü• –ß–µ—Ä–Ω—ã—à–µ–≤—Å–∫–∞—è", "value": "chernyshevskaya" }
            ],
            [
              { "text": "üü• –ü–ª–æ—â–∞–¥—å –í–æ—Å—Å—Ç–∞–Ω–∏—è", "value": "ploshad_vosstaniya" },
              { "text": "üü• –í–ª–∞–¥–∏–º–∏—Ä—Å–∫–∞—è", "value": "vladimirskaya" },
              { "text": "üü• –ü—É—à–∫–∏–Ω—Å–∫–∞—è", "value": "pushkinskaya" }
            ],
            [
              { "text": "üü• –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∏–Ω-—Ç", "value": "tehinstit" },
              { "text": "üü• –ë–∞–ª—Ç–∏–π—Å–∫–∞—è", "value": "baltiyskaya" },
              { "text": "üü• –ù–∞—Ä–≤—Å–∫–∞—è", "value": "narvskaya" }
            ],
            [
              { "text": "üü• –ö–∏—Ä–æ–≤—Å–∫–∏–π –∑–∞–≤–æ–¥", "value": "kirovskiy_zavod" },
              { "text": "üü• –ê–≤—Ç–æ–≤–æ", "value": "avtovo" },
              { "text": "üü• –õ–µ–Ω–∏–Ω—Å–∫–∏–π –ø—Ä.", "value": "leninskiy_pr" }
            ],
            [
              { "text": "üü• –ü—Ä–æ—Å–ø–µ–∫—Ç –í–µ—Ç–µ—Ä–∞–Ω–æ–≤", "value": "pr_veteranov" }
            ],
            [
              { "text": "–ù–∞–∑–∞–¥ ‚¨ÖÔ∏è", "value": "back" },
              { "text": "–ì–æ—Ç–æ–≤–æ ‚úÖ", "value": "done" }
            ]
          ],
          "oneTimeKeyboard": true,
          "resizeKeyboard": true,
          "allowMultipleSelection": true,
          "variable": "red_stations"
        },
        "position": { "x": 400, "y": 1000 }
      },
      {
        "id": "blue_line_stations",
        "type": "keyboard",
        "data": {
          "label": "–°–∏–Ω—è—è –≤–µ—Ç–∫–∞",
          "text": "–í—ã–±–µ—Ä–∏ —Å—Ç–∞–Ω—Ü–∏–∏ —Å–∏–Ω–µ–π –≤–µ—Ç–∫–∏ üü¶:",
          "keyboardType": "reply",
          "buttons": [
            [
              { "text": "üü¶ –ü–∞—Ä–Ω–∞—Å", "value": "parnas" },
              { "text": "üü¶ –ü—Ä. –ü—Ä–æ—Å–≤–µ—â–µ–Ω–∏—è", "value": "pr_prosvesheniya" },
              { "text": "üü¶ –û–∑–µ—Ä–∫–∏", "value": "ozerki" }
            ],
            [
              { "text": "üü¶ –£–¥–µ–ª—å–Ω–∞—è", "value": "udelnaya" },
              { "text": "üü¶ –ü–∏–æ–Ω–µ—Ä—Å–∫–∞—è", "value": "pionerskaya" },
              { "text": "üü¶ –ß—ë—Ä–Ω–∞—è —Ä–µ—á–∫–∞", "value": "chernaya_rechka" }
            ],
            [
              { "text": "üü¶ –ü–µ—Ç—Ä–æ–≥—Ä–∞–¥—Å–∫–∞—è", "value": "petrogradskaya" },
              { "text": "üü¶ –ì–æ—Ä—å–∫–æ–≤—Å–∫–∞—è", "value": "gorkovskaya" },
              { "text": "üü¶ –ù–µ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç", "value": "nevskiy_prospekt" }
            ],
            [
              { "text": "üü¶ –°–µ–Ω–Ω–∞—è –ø–ª–æ—â–∞–¥—å", "value": "sennaya_ploshad" },
              { "text": "üü¶ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∏–Ω-—Ç", "value": "tehinstit_blue" },
              { "text": "üü¶ –§—Ä—É–Ω–∑–µ–Ω—Å–∫–∞—è", "value": "frunzenskaya" }
            ],
            [
              { "text": "üü¶ –ú–æ—Å–∫–æ–≤—Å–∫–∏–µ –≤–æ—Ä–æ—Ç–∞", "value": "moskovskie_vorota" },
              { "text": "üü¶ –≠–ª–µ–∫—Ç—Ä–æ—Å–∏–ª–∞", "value": "elektrosila" },
              { "text": "üü¶ –ü–∞—Ä–∫ –ü–æ–±–µ–¥—ã", "value": "park_pobedy" }
            ],
            [
              { "text": "üü¶ –ú–æ—Å–∫–æ–≤—Å–∫–∞—è", "value": "moskovskaya" },
              { "text": "üü¶ –ó–≤—ë–∑–¥–Ω–∞—è", "value": "zvyozdnaya" },
              { "text": "üü¶ –ö—É–ø—á–∏–Ω–æ", "value": "kupchino" }
            ],
            [
              { "text": "–ù–∞–∑–∞–¥ ‚¨ÖÔ∏è", "value": "back" },
              { "text": "–ì–æ—Ç–æ–≤–æ ‚úÖ", "value": "done" }
            ]
          ],
          "oneTimeKeyboard": true,
          "resizeKeyboard": true,
          "allowMultipleSelection": true,
          "variable": "blue_stations"
        },
        "position": { "x": 700, "y": 1000 }
      },
      {
        "id": "interests_categories",
        "type": "keyboard",
        "data": {
          "label": "–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤",
          "text": "–í—ã–±–µ—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤ üéØ:",
          "keyboardType": "inline",
          "buttons": [
            [
              { "text": "üéÆ –•–æ–±–±–∏", "value": "hobby" },
              { "text": "üë• –°–æ—Ü–∏–∞–ª—å–Ω–∞—è –∂–∏–∑–Ω—å", "value": "social" }
            ],
            [
              { "text": "üé® –¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ", "value": "creativity" },
              { "text": "üèÉ –ê–∫—Ç–∏–≤–Ω—ã–π –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏", "value": "active" }
            ],
            [
              { "text": "üçï –ï–¥–∞ –∏ –Ω–∞–ø–∏—Ç–∫–∏", "value": "food" },
              { "text": "‚öΩ –°–ø–æ—Ä—Ç", "value": "sport" }
            ],
            [
              { "text": "üè† –í—Ä–µ–º—è –¥–æ–º–∞", "value": "home" },
              { "text": "‚úàÔ∏è –ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è", "value": "travel" }
            ],
            [
              { "text": "üêæ –î–æ–º–∞—à–Ω–∏–µ –∂–∏–≤–æ—Ç–Ω—ã–µ", "value": "pets" },
              { "text": "üé¨ –§–∏–ª—å–º—ã –∏ —Å–µ—Ä–∏–∞–ª—ã", "value": "movies" }
            ],
            [
              { "text": "üéµ –ú—É–∑—ã–∫–∞", "value": "music" }
            ]
          ],
          "variable": "interest_category"
        },
        "position": { "x": 100, "y": 1150 }
      },
      {
        "id": "hobby_interests",
        "type": "keyboard",
        "data": {
          "label": "–•–æ–±–±–∏ –∏–Ω—Ç–µ—Ä–µ—Å—ã",
          "text": "–í—ã–±–µ—Ä–∏ –∏–Ω—Ç–µ—Ä–µ—Å—ã –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ üéÆ –•–æ–±–±–∏:",
          "keyboardType": "inline",
          "buttons": [
            [
              { "text": "üéÆ –ö–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–µ –∏–≥—Ä—ã", "value": "computer_games" },
              { "text": "üíÑ –ú–æ–¥–∞ –∏ –∫—Ä–∞—Å–æ—Ç–∞", "value": "fashion" }
            ],
            [
              { "text": "üöó –ê–≤—Ç–æ–º–æ–±–∏–ª–∏", "value": "cars" },
              { "text": "üíª IT –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏", "value": "it_tech" }
            ],
            [
              { "text": "üß† –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è", "value": "psychology" },
              { "text": "üîÆ –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è", "value": "astrology" }
            ],
            [
              { "text": "üßò –ú–µ–¥–∏—Ç–∞—Ü–∏–∏", "value": "meditation" },
              { "text": "üìö –ö–æ–º–∏–∫—Å—ã", "value": "comics" }
            ],
            [
              { "text": "üìñ –ú–∞–Ω–≥–∞", "value": "manga" },
              { "text": "‚úçÔ∏è –§–∞–Ω—Ñ–∏–∫–∏", "value": "fanfics" }
            ],
            [
              { "text": "üß© –ö–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ", "value": "collecting" },
              { "text": "üà¥ –ò–∑—É—á–µ–Ω–∏–µ —è–∑—ã–∫–æ–≤", "value": "languages" }
            ],
            [
              { "text": "üì∫ –°—Ç—Ä–∏–º–∏–Ω–≥–∏", "value": "streaming" },
              { "text": "üïπÔ∏è –ò–≥—Ä—ã –Ω–∞ –ø—Ä–∏—Å—Ç–∞–≤–∫–µ", "value": "console_games" }
            ],
            [
              { "text": "‚¨ÖÔ∏è –ö –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º", "value": "back_to_categories" },
              { "text": "–ì–æ—Ç–æ–≤–æ ‚úÖ", "value": "interests_done" }
            ]
          ],
          "allowMultipleSelection": true,
          "variable": "hobby_interests"
        },
        "position": { "x": 400, "y": 1150 }
      },
      {
        "id": "marital_status",
        "type": "keyboard",
        "data": {
          "label": "–°–µ–º–µ–π–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ",
          "text": "–í—ã–±–µ—Ä–∏ —Å–µ–º–µ–π–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ üíç:",
          "keyboardType": "reply",
          "buttons": [
            [
              { "text": "üíî –ù–µ –∂–µ–Ω–∞—Ç", "value": "single_m" },
              { "text": "üíî –ù–µ –∑–∞–º—É–∂–µ–º", "value": "single_f" },
              { "text": "üíï –í—Å—Ç—Ä–µ—á–∞—é—Å—å", "value": "dating" }
            ],
            [
              { "text": "üíç –ü–æ–º–æ–ª–≤–ª–µ–Ω(–∞)", "value": "engaged" },
              { "text": "üíí –ñ–µ–Ω–∞—Ç", "value": "married_m" },
              { "text": "üíí –ó–∞–º—É–∂–µ–º", "value": "married_f" }
            ],
            [
              { "text": "ü§ù –í –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–º –±—Ä–∞–∫–µ", "value": "civil_marriage" },
              { "text": "üòç –í–ª—é–±–ª—ë–Ω", "value": "in_love" },
              { "text": "ü§∑ –í—Å—ë —Å–ª–æ–∂–Ω–æ", "value": "complicated" }
            ],
            [
              { "text": "üîç –í –∞–∫—Ç–∏–≤–Ω–æ–º –ø–æ–∏—Å–∫–µ", "value": "actively_searching" }
            ]
          ],
          "oneTimeKeyboard": true,
          "resizeKeyboard": true,
          "variable": "marital_status"
        },
        "position": { "x": 100, "y": 1300 }
      },
      {
        "id": "sexual_orientation",
        "type": "keyboard",
        "data": {
          "label": "–°–µ–∫—Å—É–∞–ª—å–Ω–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è",
          "text": "–£–∫–∞–∂–∏ —Å–≤–æ—é —Å–µ–∫—Å—É–∞–ª—å–Ω—É—é –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—é üåà:",
          "keyboardType": "reply",
          "buttons": [
            [
              { "text": "–ì–µ—Ç–µ—Ä–æ üòä", "value": "hetero" },
              { "text": "–ë–∏ üåà", "value": "bi" }
            ],
            [
              { "text": "–ì–µ–π/–õ–µ—Å–±–∏ üè≥Ô∏è‚Äçüåà", "value": "gay_lesbian" },
              { "text": "–î—Ä—É–≥–æ–µ ‚úçÔ∏è", "value": "other" }
            ]
          ],
          "oneTimeKeyboard": true,
          "resizeKeyboard": true,
          "variable": "sexual_orientation"
        },
        "position": { "x": 100, "y": 1450 }
      },
      {
        "id": "telegram_channel",
        "type": "keyboard",
        "data": {
          "label": "Telegram –∫–∞–Ω–∞–ª",
          "text": "–•–æ—á–µ—à—å —É–∫–∞–∑–∞—Ç—å —Å–≤–æ–π —Ç–µ–ª–µ–≥—Ä–∞–º-–∫–∞–Ω–∞–ª? üì¢",
          "keyboardType": "reply",
          "buttons": [
            [
              { "text": "–£–∫–∞–∑–∞—Ç—å –∫–∞–Ω–∞–ª üì¢", "value": "add_channel" },
              { "text": "–ù–µ —É–∫–∞–∑—ã–≤–∞—Ç—å üö´", "value": "skip_channel" }
            ]
          ],
          "oneTimeKeyboard": true,
          "resizeKeyboard": true,
          "variable": "wants_channel"
        },
        "position": { "x": 100, "y": 1600 }
      },
      {
        "id": "channel_input",
        "type": "input",
        "data": {
          "label": "–í–≤–æ–¥ –∫–∞–Ω–∞–ª–∞",
          "inputType": "text",
          "question": "–í–≤–µ–¥–∏ —Å–≤–æ–π —Ç–µ–ª–µ–≥—Ä–∞–º-–∫–∞–Ω–∞–ª (–º–æ–∂–Ω–æ —Å—Å—ã–ª–∫—É, –Ω–∏–∫ —Å @ –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –∏–º—è) üì¢:",
          "placeholder": "@MyChannel –∏–ª–∏ t.me/MyChannel",
          "required": false,
          "variable": "telegram_channel",
          "maxLength": 200
        },
        "position": { "x": 400, "y": 1600 }
      },
      {
        "id": "extra_info",
        "type": "input",
        "data": {
          "label": "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è",
          "inputType": "text",
          "question": "–•–æ—á–µ—à—å –¥–æ–±–∞–≤–∏—Ç—å —á—Ç–æ-—Ç–æ –µ—â—ë –æ —Å–µ–±–µ? (–¥–æ 2000 —Å–∏–º–≤–æ–ª–æ–≤) üìù",
          "placeholder": "–†–∞—Å—Å–∫–∞–∂–∏ –æ —Å–µ–±–µ...",
          "required": false,
          "variable": "extra_info",
          "maxLength": 2000
        },
        "position": { "x": 100, "y": 1750 }
      },
      {
        "id": "profile_complete",
        "type": "message",
        "data": {
          "label": "–ü—Ä–æ—Ñ–∏–ª—å –≥–æ—Ç–æ–≤",
          "text": "üéâ –û—Ç–ª–∏—á–Ω–æ! –¢–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å –∑–∞–ø–æ–ª–Ω–µ–Ω!\n\n{profile_summary}\n\n–¢–µ–ø–µ—Ä—å —Ç—ã –º–æ–∂–µ—à—å –ø–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ —á–∞—Ç –∑–Ω–∞–∫–æ–º—Å—Ç–≤!",
          "keyboardType": "inline",
          "buttons": [
            [
              { "text": "üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å", "value": "show_profile" },
              { "text": "üîó –°—Å—ã–ª–∫–∞ –Ω–∞ —á–∞—Ç", "value": "get_chat_link" }
            ],
            [
              { "text": "‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å", "value": "edit_profile" }
            ]
          ]
        },
        "position": { "x": 100, "y": 1900 }
      },
      {
        "id": "show_profile",
        "type": "message",
        "data": {
          "label": "–ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å",
          "text": "üë§ –¢–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å:\n\n{formatted_profile}",
          "keyboardType": "inline",
          "buttons": [
            [
              { "text": "‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å", "value": "edit_profile" },
              { "text": "üîó –°—Å—ã–ª–∫–∞ –Ω–∞ —á–∞—Ç", "value": "get_chat_link" }
            ]
          ]
        },
        "position": { "x": 400, "y": 1900 }
      },
      {
        "id": "chat_link",
        "type": "message",
        "data": {
          "label": "–°—Å—ã–ª–∫–∞ –Ω–∞ —á–∞—Ç",
          "text": "üîó –ê–∫—Ç—É–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —á–∞—Ç:\n\nhttps://t.me/+agkIVgCzHtY2ZTA6\n\n–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ ·¥†·¥®·¥©·¥è·¥¶ è·¥ß·¥ã·¥á! üåü",
          "keyboardType": "inline",
          "buttons": [
            [
              { "text": "üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å", "value": "show_profile" }
            ]
          ]
        },
        "position": { "x": 700, "y": 1900 }
      },
      {
        "id": "edit_profile_menu",
        "type": "keyboard",
        "data": {
          "label": "–ú–µ–Ω—é —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è",
          "text": "–ß—Ç–æ —Ö–æ—á–µ—à—å –∏–∑–º–µ–Ω–∏—Ç—å –≤ –ø—Ä–æ—Ñ–∏–ª–µ? ‚úèÔ∏è",
          "keyboardType": "inline",
          "buttons": [
            [
              { "text": "–ü–æ–ª üë®üë©", "value": "edit_gender" },
              { "text": "–ò–º—è ‚úèÔ∏è", "value": "edit_name" }
            ],
            [
              { "text": "–í–æ–∑—Ä–∞—Å—Ç üéÇ", "value": "edit_age" },
              { "text": "–°—Ç–∞–Ω—Ü–∏—è –º–µ—Ç—Ä–æ üöá", "value": "edit_metro" }
            ],
            [
              { "text": "–ò–Ω—Ç–µ—Ä–µ—Å—ã üéâ", "value": "edit_interests" },
              { "text": "–°–µ–º–µ–π–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ üíç", "value": "edit_marital" }
            ],
            [
              { "text": "–°–µ–∫—Å—É–∞–ª—å–Ω–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è üåà", "value": "edit_orientation" },
              { "text": "–¢–µ–ª–µ–≥—Ä–∞–º-–∫–∞–Ω–∞–ª üì¢", "value": "edit_channel" }
            ],
            [
              { "text": "–î–æ–ø. –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è üìù", "value": "edit_extra" }
            ],
            [
              { "text": "–ö –ø—Ä–æ—Ñ–∏–ª—é ‚Ü©Ô∏è", "value": "back_to_profile" },
              { "text": "–ó–∞–ø–æ–ª–Ω–∏—Ç—å –∑–∞–Ω–æ–≤–æ üîÑ", "value": "reset_profile" }
            ]
          ],
          "variable": "edit_choice"
        },
        "position": { "x": 100, "y": 2050 }
      }
    ],
    "connections": [
      { "source": "start", "target": "source_input" },
      { "source": "source_input", "target": "join_request" },
      { "source": "join_request", "target": "decline_response", "condition": "wants_to_join == 'no'" },
      { "source": "join_request", "target": "gender_selection", "condition": "wants_to_join == 'yes'" },
      { "source": "gender_selection", "target": "name_input" },
      { "source": "name_input", "target": "age_input" },
      { "source": "age_input", "target": "metro_selection" },
      { "source": "metro_selection", "target": "red_line_stations", "condition": "metro_lines contains 'red_line'" },
      { "source": "metro_selection", "target": "blue_line_stations", "condition": "metro_lines contains 'blue_line'" },
      { "source": "metro_selection", "target": "interests_categories", "condition": "metro_lines contains 'metro_done'" },
      { "source": "red_line_stations", "target": "metro_selection", "condition": "red_stations contains 'back'" },
      { "source": "red_line_stations", "target": "interests_categories", "condition": "red_stations contains 'done'" },
      { "source": "blue_line_stations", "target": "metro_selection", "condition": "blue_stations contains 'back'" },
      { "source": "blue_line_stations", "target": "interests_categories", "condition": "blue_stations contains 'done'" },
      { "source": "interests_categories", "target": "hobby_interests", "condition": "interest_category == 'hobby'" },
      { "source": "hobby_interests", "target": "interests_categories", "condition": "hobby_interests contains 'back_to_categories'" },
      { "source": "hobby_interests", "target": "marital_status", "condition": "hobby_interests contains 'interests_done'" },
      { "source": "marital_status", "target": "sexual_orientation" },
      { "source": "sexual_orientation", "target": "telegram_channel" },
      { "source": "telegram_channel", "target": "channel_input", "condition": "wants_channel == 'add_channel'" },
      { "source": "telegram_channel", "target": "extra_info", "condition": "wants_channel == 'skip_channel'" },
      { "source": "channel_input", "target": "extra_info" },
      { "source": "extra_info", "target": "profile_complete" },
      { "source": "profile_complete", "target": "show_profile", "condition": "button_clicked == 'show_profile'" },
      { "source": "profile_complete", "target": "chat_link", "condition": "button_clicked == 'get_chat_link'" },
      { "source": "profile_complete", "target": "edit_profile_menu", "condition": "button_clicked == 'edit_profile'" },
      { "source": "show_profile", "target": "edit_profile_menu", "condition": "button_clicked == 'edit_profile'" },
      { "source": "show_profile", "target": "chat_link", "condition": "button_clicked == 'get_chat_link'" },
      { "source": "chat_link", "target": "show_profile", "condition": "button_clicked == 'show_profile'" },
      { "source": "edit_profile_menu", "target": "show_profile", "condition": "edit_choice == 'back_to_profile'" },
      { "source": "edit_profile_menu", "target": "gender_selection", "condition": "edit_choice == 'reset_profile'" }
    ]
  },
  "variables": {
    "user_source": { "type": "string", "description": "–ò—Å—Ç–æ—á–Ω–∏–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —á–∞—Ç–µ" },
    "wants_to_join": { "type": "string", "description": "–ñ–µ–ª–∞–Ω–∏–µ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ —á–∞—Ç—É" },
    "gender": { "type": "string", "description": "–ü–æ–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" },
    "user_name": { "type": "string", "description": "–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" },
    "user_age": { "type": "number", "description": "–í–æ–∑—Ä–∞—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" },
    "metro_lines": { "type": "array", "description": "–í—ã–±—Ä–∞–Ω–Ω—ã–µ –≤–µ—Ç–∫–∏ –º–µ—Ç—Ä–æ" },
    "red_stations": { "type": "array", "description": "–°—Ç–∞–Ω—Ü–∏–∏ –∫—Ä–∞—Å–Ω–æ–π –≤–µ—Ç–∫–∏" },
    "blue_stations": { "type": "array", "description": "–°—Ç–∞–Ω—Ü–∏–∏ —Å–∏–Ω–µ–π –≤–µ—Ç–∫–∏" },
    "interest_category": { "type": "string", "description": "–í—ã–±—Ä–∞–Ω–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤" },
    "hobby_interests": { "type": "array", "description": "–ò–Ω—Ç–µ—Ä–µ—Å—ã –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ö–æ–±–±–∏" },
    "marital_status": { "type": "string", "description": "–°–µ–º–µ–π–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ" },
    "sexual_orientation": { "type": "string", "description": "–°–µ–∫—Å—É–∞–ª—å–Ω–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è" },
    "wants_channel": { "type": "string", "description": "–ñ–µ–ª–∞–Ω–∏–µ —É–∫–∞–∑–∞—Ç—å —Ç–µ–ª–µ–≥—Ä–∞–º-–∫–∞–Ω–∞–ª" },
    "telegram_channel": { "type": "string", "description": "–¢–µ–ª–µ–≥—Ä–∞–º-–∫–∞–Ω–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" },
    "extra_info": { "type": "string", "description": "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è" },
    "edit_choice": { "type": "string", "description": "–í—ã–±–æ—Ä –ø–æ–ª—è –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è" },
    "profile_summary": { "type": "string", "description": "–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è" },
    "formatted_profile": { "type": "string", "description": "–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å" }
  },
  "functions": {
    "formatProfile": {
      "description": "–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è",
      "parameters": ["user_data"],
      "code": "def format_profile(user_data):\n    profile = f\"üë§ –ü—Ä–æ—Ñ–∏–ª—å:\\n\\n\"\n    profile += f\"–ü–æ–ª: {user_data.get('gender', '–ù–µ —É–∫–∞–∑–∞–Ω–æ')}\\n\"\n    profile += f\"–ò–º—è: {user_data.get('user_name', '–ù–µ —É–∫–∞–∑–∞–Ω–æ')}\\n\"\n    profile += f\"–í–æ–∑—Ä–∞—Å—Ç: {user_data.get('user_age', '–ù–µ —É–∫–∞–∑–∞–Ω–æ')}\\n\"\n    profile += f\"–ú–µ—Ç—Ä–æ: {', '.join(user_data.get('metro_stations', []))}\\n\"\n    profile += f\"–ò–Ω—Ç–µ—Ä–µ—Å—ã: {', '.join(user_data.get('interests', []))}\\n\"\n    profile += f\"–°–µ–º–µ–π–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ: {user_data.get('marital_status', '–ù–µ —É–∫–∞–∑–∞–Ω–æ')}\\n\"\n    profile += f\"–û—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è: {user_data.get('sexual_orientation', '–ù–µ —É–∫–∞–∑–∞–Ω–æ')}\\n\"\n    if user_data.get('telegram_channel'):\n        profile += f\"Telegram-–∫–∞–Ω–∞–ª: {user_data.get('telegram_channel')}\\n\"\n    if user_data.get('extra_info'):\n        profile += f\"–î–æ–ø. –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: {user_data.get('extra_info')}\\n\"\n    return profile"
    },
    "validateAge": {
      "description": "–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤–æ–∑—Ä–∞—Å—Ç–∞",
      "parameters": ["age"],
      "code": "def validate_age(age):\n    try:\n        age_int = int(age)\n        return 14 <= age_int <= 99\n    except ValueError:\n        return False"
    },
    "validateTelegramChannel": {
      "description": "–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å Telegram-–∫–∞–Ω–∞–ª–∞",
      "parameters": ["channel"],
      "code": "def validate_telegram_channel(channel):\n    import re\n    if not channel:\n        return True\n    patterns = [\n        r'^@[a-zA-Z0-9_]{5,32}$',\n        r'^https://t\\.me/[a-zA-Z0-9_]{5,32}$',\n        r'^t\\.me/[a-zA-Z0-9_]{5,32}$',\n        r'^[a-zA-Z0-9_]{5,32}$'\n    ]\n    return any(re.match(pattern, channel.strip()) for pattern in patterns)"
    }
  },
  "settings": {
    "defaultLanguage": "ru",
    "enableLogging": true,
    "enableUserDatabase": true,
    "enableAnalytics": true,
    "sessionTimeout": 3600,
    "maxRetries": 3
  }
}