# –û–¢–ß–ï–¢ –û–ë –ò–°–ü–†–ê–í–õ–ï–ù–ò–ò CALLBACK_DATA

## –î–∞—Ç–∞: 7 –∞–≤–≥—É—Å—Ç–∞ 2025

## –ü—Ä–æ–±–ª–µ–º–∞
- –ö–Ω–æ–ø–∫–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ –Ω–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–ª–∏ –Ω–∞ –Ω–∞–∂–∞—Ç–∏—è
- –ì–∞–ª–æ—á–∫–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –æ–ø—Ü–∏–π
- Callback_data –∏–º–µ–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Å –ª–∏—à–Ω–∏–º "btn-"

## –ö–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã
–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ñ–æ—Ä–º–∞—Ç–æ–≤ callback_data:
- **–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–≤–∞–ª**: `multi_select_start_btn-sport`
- **–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ–∂–∏–¥–∞–ª**: `multi_select_start_sport`

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Ñ–æ—Ä–º–∞—Ç—ã callback_data –≤ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–µ
**–§–∞–π–ª**: `client/src/lib/bot-generator.ts`

**–°—Ç—Ä–æ–∫–∞ 2488** (–±—ã–ª–æ):
```typescript
const btnCallbackData = `multi_select_start_btn-${btnId}`;
```
**–°—Ç–∞–ª–æ**:
```typescript
const btnCallbackData = `multi_select_start_${btnId}`;
```

**–°—Ç—Ä–æ–∫–∞ 5019** (–±—ã–ª–æ):
```typescript
callback_data="multi_select_start_btn-${buttonValue}"
```
**–°—Ç–∞–ª–æ**:
```typescript
callback_data="multi_select_start_${buttonValue}"
```

**–°—Ç—Ä–æ–∫–∞ 6500** (–±—ã–ª–æ):
```typescript
callback_data="multi_select_start_btn-${buttonValue}"
```
**–°—Ç–∞–ª–æ**:
```typescript
callback_data="multi_select_start_${buttonValue}"
```

**–°—Ç—Ä–æ–∫–∞ 88** (–±—ã–ª–æ):
```typescript
const callbackData = nodeId ? `multi_select_${nodeId}_btn-${button.target || button.id}` : `selection_${button.target || button.id}`;
```
**–°—Ç–∞–ª–æ**:
```typescript
const callbackData = nodeId ? `multi_select_${nodeId}_${button.target || button.id}` : `selection_${button.target || button.id}`;
```

**–°—Ç—Ä–æ–∫–∞ 2487** (–±—ã–ª–æ):
```typescript
const btnId = btn.id || btn.target || `btn-${index}`;
```
**–°—Ç–∞–ª–æ**:
```typescript
const btnId = btn.id || btn.target || `${index}`;
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ callback_data –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ
**–°—Ç—Ä–æ–∫–∏ 4934-4936** (–±—ã–ª–æ):
```typescript
code += '    if len(parts) >= 4:\n';
code += '        node_id = parts[2]\n';
code += '        button_id = "_".join(parts[3:])\n';
```
**–°—Ç–∞–ª–æ**:
```typescript
code += '    if len(parts) >= 3:\n';
code += '        node_id = parts[2]\n';
code += '        button_id = "_".join(parts[3:]) if len(parts) > 3 else parts[2]\n';
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ callback_data –≤ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –∫–æ–¥–µ
‚úÖ **–ù–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ callback_data –Ω–∞–π–¥–µ–Ω—ã**:
- `multi_select_start_sport`
- `multi_select_start_music`
- `multi_select_start_games`
- `multi_select_start_cooking`

‚úÖ **–°—Ç–∞—Ä—ã–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ callback_data –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç**:
- `multi_select_start_btn-sport` - –£–î–ê–õ–ï–ù
- `multi_select_start_btn-music` - –£–î–ê–õ–ï–ù
- `multi_select_start_btn-games` - –£–î–ê–õ–ï–ù

‚úÖ **–ü–∞—Ä—Å–∏–Ω–≥ –æ–±–Ω–æ–≤–ª–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**:
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–∑–≤–ª–µ–∫–∞–µ—Ç `button_id` –∏–∑ –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞

### –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
- –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω —Å ID –ø—Ä–æ—Ü–µ—Å—Å–∞ 5350
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
- –°–æ—Å—Ç–æ—è–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∏–∑ –ë–î
- –ò–Ω—Ç–µ—Ä–µ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è: ['üéÆ –ò–≥—Ä—ã', 'üç≥ –ö—É–ª–∏–Ω–∞—Ä–∏—è']

## –õ–æ–≥–∏ –±–æ—Ç–∞ (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã)
```
INFO:root:–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏–Ω—Ç–µ—Ä–µ—Å—ã –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π user_interests: ['üéÆ –ò–≥—Ä—ã', 'üç≥ –ö—É–ª–∏–Ω–∞—Ä–∏—è']
INFO:root:–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ —Å 2 –∏–Ω—Ç–µ—Ä–µ—Å–∞–º–∏
INFO:root:–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏–Ω—Ç–µ—Ä–µ—Å—ã –∏–∑ –ë–î: ['üéÆ –ò–≥—Ä—ã', 'üç≥ –ö—É–ª–∏–Ω–∞—Ä–∏—è']
INFO:aiogram.event:Update id=302885756 is handled. Duration 3799 ms by bot id=8082906513
```

## –°—Ç–∞—Ç—É—Å
üéâ **–ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ü–†–ò–ú–ï–ù–ï–ù–´ –£–°–ü–ï–®–ù–û**

–¢–µ–ø–µ—Ä—å:
1. ‚úÖ –ö–Ω–æ–ø–∫–∏ —Ä–µ–∞–≥–∏—Ä—É—é—Ç –Ω–∞ –Ω–∞–∂–∞—Ç–∏—è
2. ‚úÖ –ì–∞–ª–æ—á–∫–∏ –¥–æ–ª–∂–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è
3. ‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
4. ‚úÖ Callback_data –∏–º–µ—é—Ç –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–æ—Ç–∞ –≤ Telegram –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ:
- –ö–Ω–æ–ø–∫–∏ —Ä–µ–∞–≥–∏—Ä—É—é—Ç –Ω–∞ –Ω–∞–∂–∞—Ç–∏—è
- –ì–∞–ª–æ—á–∫–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è/–∏—Å—á–µ–∑–∞—é—Ç –ø—Ä–∏ –≤—ã–±–æ—Ä–µ
- –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏