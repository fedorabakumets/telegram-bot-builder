# Папка logging

Эта папка содержит модули, связанные с логированием сообщений в Telegram-боте. Все функции в этой папке предназначены для генерации Python-кода, который обеспечивает автоматическое сохранение сообщений в базу данных через API.

## Содержимое

### Файлы

- `answer_with_logging.ts` - генерирует обертку для метода `types.Message.answer` с автоматическим логированием исходящих сообщений
- `callback_query_logging_middleware.ts` - генерирует middleware для логирования нажатий на inline-кнопки
- `generate-message-logging.ts` - основной модуль, координирующий генерацию кода логирования сообщений
- `get_api_base_url.ts` - генерирует функцию определения базового URL API
- `message_logging_middleware.ts` - генерирует middleware для логирования входящих сообщений от пользователей
- `save_message_to_api.ts` - генерирует асинхронную функцию для сохранения сообщений в базу данных через API
- `send_message_with_logging.ts` - генерирует обертку для метода `bot.send_message` с автоматическим логированием
- `send_photo_with_logging.ts` - генерирует обертку для метода `bot.send_photo` с автоматическим логированием отправки фото и регистрации медиа

### Использование

Для использования этих функций в других частях проекта:

```typescript
import { 
  generateMessageLoggingCode,
  save_message_to_api,
  message_logging_middleware
} from './lib/logging';
```

Или импорт отдельных функций:

```typescript
import { answer_with_logging } from './lib/logging';
```

## Особенности

- Все функции генерируют Python-код для использования в Telegram-ботах
- Каждый модуль имеет JSDoc комментарии для лучшего понимания функциональности
- Реализовано автоматическое добавление комментариев к сгенерированному коду
- Поддерживается логирование текстовых сообщений, фото и нажатий на кнопки
- Обеспечивается интеграция с API для хранения сообщений в базе данных